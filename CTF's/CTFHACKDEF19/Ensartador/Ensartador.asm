# Can U reverse it?
# R U a h4ck3r or n00b5?

# Y0u kn0w i'm alw4ys h4ppy exc3pt 0n3 d4y, 1t w4s l4st y34r wh3n s0m30n3 f0und my fl4g!
# This year you w1ll n3v3r g3t my flag ... but y0u c4n g3t it despues que termine el CTF!

                                                                              .,,                                                                              
                                                                              .,* .                                                                            
                                                                            ,*.,*.*.                                                                           
                                                                            **.,*.*,.                                                                          
                                                                          .*/*.**.*/*,                                                                         
                                                                         ,*///.,,.*///.                                                                        
                                                                        ./////.,,.*///*,                                                                       
                                                                       ,*/////.,,.*/////.                                                                      
                                                                       *//////.,,.*/////*.                                                                     
                                                                     .*//////*.,,.*//////*,                                                                    
                                                                    ,*///////*.,,.*////////.                                                                   
                                                                   ./////////*.,,.*////////*,                                                                  
                                                                  ,*/////////*.,,.*//////////.                                                                 
                                                                  *//////////*.,,.*//////////*.                                                                
                                                                .*///////////*.,,.*///////////*                                                                
                                                               ,*////////////*.,,.*/////*//////*.                                                              
                                                              .//////////////*.,,.*///*.  ,/////*,                                                             
                                                             ,*//////////////*.,,.*////*.*////////.                                                            
                                                            ./////. .,///////*.,,.*/////.*////////*,                                                           
                                                           .*/////. .*///////*.,,.*/////.*/////////*                                                           
                                                           *//////*,*////////*.,,.*/////.*//////////,.                                                         
                                                         .*///////*,*////////*.,,.*/////.*///////////*,                                                        
                                                        ,*////////*,*////////*.,,.*/////.*/////////////.                                                       
                                                       .//////////*,*/////////.,,.*/////.*/////////////*,                                                      
                                                      .*//*..*////*,*/////////.,,.*/////.*//////////////*                                                      
                                                      *///*  *////*,*////////*.,,.*/////.*///////////////*.                                                    
                                                    .*/////,./////*.*//*,,*///.,,.*////*.*////////////////*.                                                   
                                                   ,*//////,.//////,*//,. .*/*.,,.*////*,///////////////////.                                                  
                                                  .////////,.///////,*//*,////.,,.*///,,////////////////////*.                                                 
                                                 .*////////,.///////,,*/*,///*.,,.*///,*/////////////////////*                                                 
                                                 */////////,.///////*,,/*,///*.,,.*/*,*////////////////*//////,.                                               
                                               .*//////////,.////////*,/*,///*.,,.*,,*///////////////*. .//////*,                                              
                                              ,*///////////,./////////***,///*.,,.,,*/////////////////*,*////////.                                             
                                             ./////////////,.//////////,,,///*.,, .///////////////////*,*////////*.                                            
                                            ,*/////////////,.//////////,.,///*.*,.*///////////////////*,*//////////.                                           
                                            *//////////////,.////////***.,*//,,*.,/////////,,*////////*,*//////////,.                                          
                                          .*///////////////,.///////.  ,,,//,.*../////////*  ,////////*,*///////////*,                                         
                                         ,*/////////**/////,,///////*,,/*,//.,..*/////////**//////////*,//////////////.                                        
                                        .//////////.  ,////,*////////,,/*,*,,,.*////////,,*///////////*,*/////////////*,                                       
                                       ,*//////////*..///*,*////////*,,/*,,.,.*////////**//. .*///////*,*///////////////.                                      
                                       *///////////*,,//*,,/////////*,,/*..,..////////,,///. .*///////*,*///////////////,.                                     
                                     .*////////////*,.//,,*/////////*,,/* ,*.*///////**///*,///////////,,/*,.*///////////*.                                    
                                    ,*//////*,.,*//*,,/,*///////////*,,/*.,..*///////,*/*,,////////////*,**. ,/////////////.                                   
                                   .////////*, .*//*,,,,////////////*,,/*.,..*///////***,*/////*,.,*////*,**,//////////////*,                                  
                                  ,*///////////*,*/*,.*/////////////*,,/*.,..*///////,.,///////*, ,*/////,,**////////////////.                                 
                                  */////////////*,**..//////////////*,,/*.,..*///////*,/////////*,*//////,,,,/////////***////,.                                
                                .*///////////////*,,,,//////////////*,,/*.,..*///////,*/////////*,///////*,.*/////////. .,////*                                
                               ,*//////**//////////,..//////////////*,,/*.,..*///////**/////////*,////////*.*/////////*,*//////,.                              Reverse it if u can!
                              .//////*.  */////////*,,//////////////*,,/*.,..*///////**/////////*,/////////**//////////,*///////*,                             
                             ,*///////*.*//////////*,,//////////////*,,/*.,..*///////**/////////*,*////////**/////////*,*/////////.                            
                            .//////////.*//////////*,,//////////////*,,/*.,..*///////**/////////*,*////////**/////////*,*/////////*,                           
                           .*//////////,*//////////*,,//////////////*,,/*.,..*///////*,/////////*,/////////**//////////**//////////*                           
                           *///////////,*//////////*,,//////////////*,,/*.,..*/////*, */////////*,/////////**//////////**///////////*.                         
                          ,/////,   *//.             .//              ,/*.,..*////*   *///*            .*//*             .*/*                                  
                          ,/////,   *//     .....    .//    ..........,/*.,..*///.   ,////*    ......   .//*    .........,*/*    ......                        
                          ,/////,   *//    ,/////,   .//   .,///////////*.,..**,   ,*/////*   ,/////,.  .//*   ,////////////*   ,//////*,                      
                          ,/////,   *//    ,/////,   .//    ,///////////*.,..*.   .///////*   ,/////*.  .//*   ,*///////////*   ,///////*                      
                           ......   *//    ......    .//    ,///////////*.,.     *////////*   ,/////,   .//*    .........,*/*    ......,/*.                    
                    .*.             *//              .//    ,///////////*.,.     *////////*   ,/////,   .//*             .*/*          ,//*,                   
                   ,*/.   ,/////,   *//   .,/////,   .//    ,///////////*.,..,    .///////*   ,/////,   .//*   ,*///////////*   ,*//////////.                  
                  .///    ,/////,   *//    ,/////,   .//   .,///////////*.,..*/,.  .,/////*   ,/////,.  .//*   ,*///////////*   ,*//////////*,                 
                 .*///    ,/////,   *//    ,/////,   .//    ,**********/*.,..*//*    ,////*   .*****,   .//*   .**********//*   ,*///////////*                 
                 *////.   ,/////,   *//    ,/////,   .//              ./*.,..*////,   .*//*             .//*             .*/*   ,*////////////*.               
               .*/////****///////***///****//////*****//***************//.., ,/////*****///************/////**************///***///////////////*,              
              ,*/////////////////////////////////////////////////////////,... *//////////////////////////////////////////////////////////////////.             
             ./////**/**///***//////**/*///*****////////////*/**///*****//,.,.,//***//////*///*///*****/////////**///*/////////****//////////////*,            
            ,*///*......**. ... ,*  ... .*,.  ..,*..*/*.,*, ... .*. ....,//,.,.,*,.   .,*. */*.,*, ....,*///. .....**.,*////*  ... ,.  ....,///////.           
            /////*.,/////*..*/* ,*  ///..///. *//*..*/*.,*,.*/* .*..///////*.,..*//, .//*. */*.,*,.*////////. */////*.,*////*.,//* ,. .////////////*.          
          .*/////*.,*////*.  .  ,*  ..  .///, *//*..*/*.,*,     .*.   ...///..,..//, .//*. ..  ,*,     ,////.  .. .*,..*////*   .. ,. .,.  .////////*,         
         ,*//////*.,/////*..*/* ,*  ////////, *//*..*/*.,*,.*..*//. ////////*.,,.*/, .//*. */*.,*,.*////////. */////,.,/////* ,//* ,. .//, .//////////.        
        .////////*, ....**,,*/*.,*..////////,.*//*,.....,*,,*/*.*/.. ....////*.,,,*,.,//*..*//,,*,.. ..,*///,.*/////*... ..**.,//*.*,......,//////////*,       
       ,*////////////////////////////////////////////////////////////////////* ,,.*/////////////////////////////////////////////////////////////////////.      
       */////////////////////////////////////////////////////////////////////* ,,.*/////////////////////////////////////////////////////////////////////*.     
     .*//////////////////////////////////////////////////////////////////////* ,,.*//////////////////////////////////////////////////////////////////////*,    
    ,*////////////////////////////////////////////////////*//////////////////* ,,,*////////////////////////////////////////////////////////////////////////.   
                                                                               ,,              ,.                                                              
                   **,*,,**,/,.*,          .*,...,*....,,,*,.*/,**...          ,,     .*, ./,**... .*,*..*,,*,...**.,*.         ...,*,*,.**,*,**,,*            
                   **,*,,**,*/**,   ...    .*,,,.,*,,,.,,.**,//,**,,.         .,,     .**,*/,**,,,  */*  *,,,    ** .*.    ..   .,,,*,*. **,*,**,**            
                   **,*,   ,*,**,  .///    .*.      .*,,,.**/**,**            *//.    .**/**,**     ***. *,,,.   ** .*.  .*//  .**   .*. **.*,*,.,*           

	.text

.globl main
main:
	la	$a0, eid_in 
	li	$v0, 4 
	syscall

	la	$a0, new_eid
	li	$v0, 4
	syscall

	lw 	$a0, eid_num 
	move 	$t0, $a0

	jal bif

	move $t0, $v0

w00t:
	la 	$a0, eid_out
	li 	$v0, 4
	syscall

	move $a0, $t0 
	li $v0, 1
	syscall

	la	$a0, eid_end
	li	$v0, 4
	syscall

	la	$a0, new_eid
	li	$v0, 4
	syscall

	j	rekt

bif:
	addi $sp, $sp, -12
	sw   $ra, 0($sp) 
	sw   $s0, 4($sp)
	sw   $s1, 8($sp)

	add $s0, $a0, $zero 

	addi $t1, $zero, 1 
	beq  $s0, $zero, return0 
	beq  $s0, $t1,   return1 

	addi $a0, $s0, -1 

	jal bif

	add $s1, $zero, $v0 

	addi $a0, $s0, -2 

	jal bif  

	lw 	$a0, leet_eid 
	move 	$t2, $a0 
	div $v0, $t2
	mfhi $v0 

	add $v0, $v0, $s1 # final value is return value from n-2 recursion of fibonacci...

	exitbif:
			lw   $ra, 0($sp)
			lw   $s0, 4($sp)
			lw   $s1, 8($sp)
			addi $sp, $sp, 12
			jr $ra

	return1:
			li $v0,1
			j exitbif

	return0:
			li $v0,0
			j exitbif

rekt:
	li 	$v0, 10 
	syscall # exit

.data
eid_in:		.asciiz "run program! LOL ..."
eid_out:	.asciiz "HAPPY EID: flag{"
eid_end:	.asciiz "}"
eid_num:	.word 200
leet_eid:	.word 20191337
new_eid:	.asciiz "\n"

